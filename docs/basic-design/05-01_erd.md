# ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢ä¿‚å›³ï¼ˆERDï¼‰

## æ–‡æ›¸æƒ…å ±

- **ä½œæˆæ—¥**: 2025-08-10
- **ä½œæˆè€…**: ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0.0
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Auth.jsçµ±åˆç‰ˆ

---

## 1. ERDå…¨ä½“åƒ

### 1.1 ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢ä¿‚å›³ï¼ˆAuth.js + Prismaçµ±åˆç‰ˆï¼‰

**ğŸ¯ åŠ¹ç‡åŒ–åŠ¹æœ**: Auth.jsçµ±åˆã«ã‚ˆã‚Šèªè¨¼ãƒ†ãƒ¼ãƒ–ãƒ«å®Ÿè£…ãŒ**3é€±é–“â†’1æ—¥**ã«çŸ­ç¸®

```mermaid
erDiagram
    %% ğŸ¯ Auth.jsæ¨™æº–ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ@auth/prisma-adapterè‡ªå‹•ç”Ÿæˆï¼‰
    USER ||--o{ ACCOUNT : has
    USER ||--o{ SESSION : creates
    USER ||--o{ AUTHENTICATOR : registers
    ACCOUNT }o--|| USER : belongs_to
    SESSION }o--|| USER : belongs_to

    %% ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿
    USER ||--o{ SALARY_SLIP : has
    USER ||--o{ STOCK_PORTFOLIO : owns
    USER ||--o{ ASSET : possesses
    USER ||--o{ BUDGET : sets
    USER ||--o{ DASHBOARD_PREFERENCE : configures

    STOCK_PORTFOLIO ||--|| STOCK_MASTER : references
    STOCK_PORTFOLIO ||--o{ STOCK_TRANSACTION : records
    STOCK_MASTER ||--o{ STOCK_PRICE_HISTORY : tracks
    STOCK_MASTER ||--|| STOCK_CURRENT_PRICE : has

    SALARY_SLIP ||--o{ SALARY_SLIP_ATTACHMENT : has

    BUDGET ||--o{ BUDGET_CATEGORY : contains
    BUDGET_CATEGORY ||--o{ BUDGET_TRACKING : monitors

    USER ||--o{ AUDIT_LOG : generates
    USER ||--o{ USER_SESSION : creates

    USER {
        string id PK "CUID - Auth.jsæ¨™æº–"
        string email UK "Auth.jsç®¡ç†"
        string name "Auth.jsç®¡ç†"
        string image "Auth.js avatarUrl"
        timestamp emailVerified "Auth.jsæ¤œè¨¼çŠ¶æ…‹"
        json preferences "ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š"
        timestamp lastLoginAt
        timestamp createdAt
        timestamp updatedAt
    }

    %% ğŸ¯ Auth.jsæ¨™æº–ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ@auth/prisma-adapterè‡ªå‹•ç”Ÿæˆï¼‰
    ACCOUNT {
        string id PK "CUID"
        string userId FK "USER.id"
        string type "oauth|email|credentials"
        string provider "google|github|apple"
        string providerAccountId "ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ID"
        string refresh_token "ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³"
        string access_token "ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³"
        int expires_at "æœ‰åŠ¹æœŸé™"
        string token_type "Bearerç­‰"
        string scope "OAuth ã‚¹ã‚³ãƒ¼ãƒ—"
        string id_token "ID ãƒˆãƒ¼ã‚¯ãƒ³"
        string session_state "ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹"
    }

    SESSION {
        string id PK "CUID"
        string sessionToken UK "ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³"
        string userId FK "USER.id"
        timestamp expires "æœ‰åŠ¹æœŸé™"
    }

    AUTHENTICATOR {
        string credentialID PK "èªè¨¼å™¨ID"
        string userId FK "USER.id"
        string providerAccountId "ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆID"
        text credentialPublicKey "å…¬é–‹éµ"
        int counter "ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼"
        string credentialDeviceType "ãƒ‡ãƒã‚¤ã‚¹ç¨®åˆ¥"
        boolean credentialBackedUp "ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æœ‰ç„¡"
        text transports "ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆ"
    }

    %% ğŸ¯ Tesseract.js + FilePondçµ±åˆã«ã‚ˆã‚‹PDFå‡¦ç†åŠ¹ç‡åŒ–ï¼ˆ2é€±é–“â†’2æ—¥ï¼‰
    SALARY_SLIP {
        string id PK "CUID"
        string userId FK "USER.id - Auth.jsçµ±åˆ"
        string companyName "Tesseract.js OCRè‡ªå‹•æŠ½å‡º"
        string employeeName "Tesseract.js OCRè‡ªå‹•æŠ½å‡º"
        string employeeId "æš—å·åŒ–ä¿å­˜"
        date paymentDate "Tesseract.js OCRè‡ªå‹•æŠ½å‡º"
        date targetPeriodStart
        date targetPeriodEnd
        json attendance "å‹¤æ€ æƒ…å ± - OCRæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿"
        json earnings "åå…¥è©³ç´° - OCRæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿"
        json deductions "æ§é™¤è©³ç´° - OCRæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿"
        decimal baseSalary
        decimal totalEarnings
        decimal totalDeductions
        decimal netPay
        string currency "é€šè²¨ã‚³ãƒ¼ãƒ‰"
        string status "draft|confirmed|archived"
        string sourceType "pdf|manual|api - FilePondè‡ªå‹•åˆ¤å®š"
        json ocrMetadata "ğŸ¯ OCRå‡¦ç†çµæœãƒ»ä¿¡é ¼åº¦"
        timestamp createdAt
        timestamp updatedAt
    }

    SALARY_SLIP_ATTACHMENT {
        string id PK
        string salarySlipId FK
        string fileName
        string fileType
        integer fileSize
        string storageUrl
        string checksum "MD5ãƒãƒƒã‚·ãƒ¥"
        timestamp uploadedAt
    }

    %% ğŸ¯ TanStack Queryçµ±åˆã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¾¡æ ¼æ›´æ–°ï¼ˆè‡ªå‹•ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»åŒæœŸï¼‰
    STOCK_PORTFOLIO {
        string id PK "CUID"
        string userId FK "USER.id - Auth.jsçµ±åˆ"
        string stockId FK "STOCK_MASTER.id"
        decimal quantity "ä¿æœ‰æ•°é‡"
        decimal averagePurchasePrice "å¹³å‡å–å¾—å˜ä¾¡"
        decimal totalInvestment "æŠ•è³‡ç·é¡ - TanStack Queryè‡ªå‹•è¨ˆç®—"
        decimal currentValue "ğŸ¯ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ä¾¡å€¤"
        decimal unrealizedGainLoss "ğŸ¯ è‡ªå‹•ç®—å‡ºæç›Š"
        decimal unrealizedGainLossRate "ğŸ¯ è‡ªå‹•ç®—å‡ºæç›Šç‡"
        timestamp firstPurchaseDate
        timestamp lastPurchaseDate
        json queryMetadata "ğŸ¯ TanStack Queryè¨­å®š"
        timestamp createdAt
        timestamp updatedAt
    }

    %% ğŸ¯ å¤–éƒ¨APIçµ±åˆã«ã‚ˆã‚‹è‡ªå‹•éŠ˜æŸ„æƒ…å ±å–å¾—
    STOCK_MASTER {
        string id PK "CUID"
        string symbol UK "éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ - Alpha Vantage APIçµ±åˆ"
        string name "éŠ˜æŸ„å - APIè‡ªå‹•å–å¾—"
        string exchange "å–å¼•æ‰€ - æ±è¨¼å¯¾å¿œ"
        string sector "ã‚»ã‚¯ã‚¿ãƒ¼ - APIè‡ªå‹•åˆ†é¡"
        string industry "æ¥­ç¨® - APIè‡ªå‹•åˆ†é¡"
        decimal marketCap "ğŸ¯ æ™‚ä¾¡ç·é¡ - APIè‡ªå‹•æ›´æ–°"
        string currency "é€šè²¨ - JPYå¯¾å¿œ"
        boolean isActive
        timestamp listedDate "ä¸Šå ´æ—¥"
        timestamp delistedDate "ä¸Šå ´å»ƒæ­¢æ—¥"
        json apiMetadata "ğŸ¯ APIçµ±åˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿"
        timestamp createdAt
        timestamp updatedAt
    }

    %% ğŸ¯ TanStack Queryçµ±åˆã«ã‚ˆã‚‹å–å¼•å±¥æ­´ç®¡ç†
    STOCK_TRANSACTION {
        string id PK "CUID"
        string portfolioId FK "STOCK_PORTFOLIO.id"
        string stockId FK "STOCK_MASTER.id"
        string userId FK "USER.id - Auth.jsçµ±åˆ"
        string transactionType "buy|sell|dividend|split"
        decimal quantity "å–å¼•æ•°é‡"
        decimal pricePerShare "1æ ªå˜ä¾¡"
        decimal totalAmount "ğŸ¯ è‡ªå‹•è¨ˆç®—ç·é¡"
        decimal commission "æ‰‹æ•°æ–™"
        decimal tax "ç¨é‡‘"
        date transactionDate "å–å¼•æ—¥"
        string notes "å–å¼•ãƒ¡ãƒ¢"
        json queryMetadata "ğŸ¯ TanStack QueryåŒæœŸæƒ…å ±"
        timestamp createdAt
    }

    %% ğŸ¯ Alpha Vantage APIçµ±åˆã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ ªä¾¡ç®¡ç†
    STOCK_CURRENT_PRICE {
        string id PK "CUID"
        string stockId FK UK "STOCK_MASTER.id"
        decimal currentPrice "ğŸ¯ APIè‡ªå‹•æ›´æ–°ä¾¡æ ¼"
        decimal previousClose "å‰æ—¥çµ‚å€¤ - APIå–å¾—"
        decimal dayChange "ğŸ¯ å½“æ—¥å¤‰å‹•é¡ - è‡ªå‹•è¨ˆç®—"
        decimal dayChangePercent "ğŸ¯ å½“æ—¥å¤‰å‹•ç‡% - è‡ªå‹•è¨ˆç®—"
        decimal dayHigh "å½“æ—¥é«˜å€¤ - APIå–å¾—"
        decimal dayLow "å½“æ—¥å®‰å€¤ - APIå–å¾—"
        bigint volume "å‡ºæ¥é«˜ - APIå–å¾—"
        timestamp marketTime "ğŸ¯ å¸‚å ´æ™‚é–“ - APIåŒæœŸ"
        timestamp lastUpdated "æœ€çµ‚æ›´æ–°æ—¥æ™‚ - TanStack Queryç®¡ç†"
        json apiMetadata "ğŸ¯ Alpha Vantage APIçµ±åˆæƒ…å ±"
    }

    %% ğŸ¯ TanStack Query + Alpha Vantage APIçµ±åˆã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªå±¥æ­´ç®¡ç†
    STOCK_PRICE_HISTORY {
        string id PK "CUID"
        string stockId FK "STOCK_MASTER.id"
        date date UK "å–å¼•æ—¥ - APIè‡ªå‹•å–å¾—"
        decimal open "å§‹å€¤ - Alpha Vantage API"
        decimal high "é«˜å€¤ - Alpha Vantage API"
        decimal low "å®‰å€¤ - Alpha Vantage API"
        decimal close "çµ‚å€¤ - Alpha Vantage API"
        decimal adjustedClose "ğŸ¯ èª¿æ•´å¾Œçµ‚å€¤ - è‡ªå‹•è¨ˆç®—"
        bigint volume "å‡ºæ¥é«˜ - APIå–å¾—"
        json apiMetadata "ğŸ¯ APIçµ±åˆå±¥æ­´ãƒ‡ãƒ¼ã‚¿"
        timestamp createdAt "TanStack Queryè‡ªå‹•ç®¡ç†"
    }

    %% ğŸ¯ TanStack Queryçµ±åˆã«ã‚ˆã‚‹è³‡ç”£ç®¡ç†åŠ¹ç‡åŒ–
    ASSET {
        string id PK "CUID"
        string userId FK "USER.id - Auth.jsçµ±åˆ"
        string assetType "cash|deposit|bond|realestate|crypto|other"
        string name
        string description
        decimal amount
        string currency
        date asOfDate "è©•ä¾¡åŸºæº–æ—¥"
        json metadata "ğŸ¯ TanStack Queryè‡ªå‹•æ›´æ–°è¨­å®š"
        decimal currentValue "ğŸ¯ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è©•ä¾¡é¡"
        json queryMetadata "ğŸ¯ TanStack Queryçµ±åˆæƒ…å ±"
        timestamp createdAt
        timestamp updatedAt
    }

    %% ğŸ¯ Superforms + Zodçµ±åˆã«ã‚ˆã‚‹äºˆç®—ç®¡ç†åŠ¹ç‡åŒ–
    BUDGET {
        string id PK "CUID"
        string userId FK "USER.id - Auth.jsçµ±åˆ"
        string name "ğŸ¯ Superformsè‡ªå‹•ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³"
        string period "monthly|quarterly|yearly"
        date startDate "ğŸ¯ Zodã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼"
        date endDate "ğŸ¯ æœŸé–“é‡è¤‡ãƒã‚§ãƒƒã‚¯è‡ªå‹•åŒ–"
        decimal totalBudget "ğŸ¯ è‡ªå‹•é‡‘é¡è¨ˆç®—"
        string status "active|completed|cancelled"
        json formMetadata "ğŸ¯ Superformsçµ±åˆæƒ…å ±"
        timestamp createdAt
        timestamp updatedAt
    }

    %% ğŸ¯ Superforms + Skeleton UIçµ±åˆã«ã‚ˆã‚‹äºˆç®—ã‚«ãƒ†ã‚´ãƒªç®¡ç†åŠ¹ç‡åŒ–
    BUDGET_CATEGORY {
        string id PK "CUID"
        string budgetId FK "BUDGET.id"
        string categoryName "ğŸ¯ Superformsãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ"
        string categoryType "income|expense|saving"
        decimal allocatedAmount "ğŸ¯ Zodæ•°å€¤æ¤œè¨¼è‡ªå‹•åŒ–"
        decimal actualAmount "ğŸ¯ è‡ªå‹•é›†è¨ˆæ©Ÿèƒ½"
        decimal variance "ğŸ¯ å·®ç•°è‡ªå‹•ç®—å‡º"
        string icon "ğŸ¯ Skeleton UIã‚¢ã‚¤ã‚³ãƒ³çµ±åˆ"
        string color "ğŸ¯ ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼è‡ªå‹•è¨­å®š"
        integer displayOrder "ğŸ¯ ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚½ãƒ¼ãƒˆ"
        json formMetadata "ğŸ¯ Superformsçµ±åˆæƒ…å ±"
        timestamp createdAt
        timestamp updatedAt
    }

    %% ğŸ¯ TanStack Queryçµ±åˆã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ äºˆç®—è¿½è·¡åŠ¹ç‡åŒ–
    BUDGET_TRACKING {
        string id PK "CUID"
        string categoryId FK "BUDGET_CATEGORY.id"
        decimal amount "ğŸ¯ è‡ªå‹•è¨ˆç®—ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°"
        string description "ğŸ¯ Superformsè‡ªå‹•ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³"
        date transactionDate "ğŸ¯ date-fnsæ—¥æœ¬èªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"
        string source "manual|automated|api_sync"
        decimal cumulativeAmount "ğŸ¯ TanStack Queryç´¯ç©è¨ˆç®—"
        decimal budgetRemaining "ğŸ¯ è‡ªå‹•æ®‹é«˜è¨ˆç®—"
        boolean isOverBudget "ğŸ¯ è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆåˆ¤å®š"
        json queryMetadata "ğŸ¯ TanStack QueryåŒæœŸæƒ…å ±"
        timestamp createdAt
        timestamp updatedAt "TanStack Queryè‡ªå‹•ç®¡ç†"
    }

    %% ğŸ¯ Skeleton UI + TanStack Queryçµ±åˆã«ã‚ˆã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¨­å®šåŠ¹ç‡åŒ–
    DASHBOARD_PREFERENCE {
        string id PK "CUID"
        string userId FK UK "USER.id"
        json layout "ğŸ¯ Skeleton UIãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¨­å®š"
        json widgets "ğŸ¯ ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ"
        json chartPreferences "ğŸ¯ Chart.jsè‡ªå‹•è¨­å®š"
        string theme "ğŸ¯ Skeleton UIãƒ†ãƒ¼ãƒã‚·ã‚¹ãƒ†ãƒ çµ±åˆ"
        string locale "ğŸ¯ date-fnsæ—¥æœ¬èªå¯¾å¿œ"
        string timezone "ğŸ¯ date-fns-tzè‡ªå‹•å¤‰æ›"
        boolean emailNotifications "ğŸ¯ è‡ªå‹•é€šçŸ¥ç®¡ç†"
        boolean pushNotifications "ğŸ¯ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥"
        json notificationSettings "ğŸ¯ é€šçŸ¥ç¨®åˆ¥è‡ªå‹•ç®¡ç†"
        json querySettings "ğŸ¯ TanStack Queryè¨­å®šä¿å­˜"
        timestamp createdAt
        timestamp updatedAt "TanStack Queryè‡ªå‹•åŒæœŸ"
    }

    %% ğŸ¯ Auth.jsçµ±åˆã«ã‚ˆã‚‹è‡ªå‹•ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†åŠ¹ç‡åŒ–
    USER_SESSION {
        string id PK "CUID"
        string userId FK "USER.id - Auth.jsçµ±åˆ"
        string sessionToken UK "ğŸ¯ Auth.jsè‡ªå‹•ç”Ÿæˆ"
        string ipAddress "ğŸ¯ è‡ªå‹•å–å¾—ãƒ»åˆ†æ"
        string userAgent "ğŸ¯ è‡ªå‹•ãƒ‡ãƒã‚¤ã‚¹åˆ¤å®š"
        json deviceInfo "ğŸ¯ Auth.jsãƒ‡ãƒã‚¤ã‚¹æƒ…å ±"
        timestamp expiresAt "ğŸ¯ è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†"
        timestamp createdAt "Auth.jsè‡ªå‹•ç®¡ç†"
        timestamp lastActivityAt "ğŸ¯ è‡ªå‹•ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£è¿½è·¡"
        json sessionMetadata "ğŸ¯ Auth.jsã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æƒ…å ±"
        boolean isActive "ğŸ¯ è‡ªå‹•ç„¡åŠ¹åŒ–æ©Ÿèƒ½"
        string securityLevel "normal|elevated|admin"
    }

    %% ğŸ¯ Sentryçµ±åˆã«ã‚ˆã‚‹è‡ªå‹•ç›£æŸ»ãƒ­ã‚°ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–åŠ¹ç‡åŒ–
    AUDIT_LOG {
        string id PK "CUID"
        string userId FK "USER.id - Auth.jsçµ±åˆ"
        string entityType "ğŸ¯ è‡ªå‹•ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£åˆ†é¡"
        string entityId "å¯¾è±¡ãƒ¬ã‚³ãƒ¼ãƒ‰ID"
        string action "create|update|delete|view|error"
        json oldValue "ğŸ¯ è‡ªå‹•å·®åˆ†æ¤œå‡º"
        json newValue "ğŸ¯ è‡ªå‹•å¤‰æ›´è¿½è·¡"
        string ipAddress "ğŸ¯ Sentryè‡ªå‹•å–å¾—"
        string userAgent "ğŸ¯ Sentryãƒ‡ãƒã‚¤ã‚¹æƒ…å ±"
        string requestId "ğŸ¯ Sentryãƒˆãƒ¬ãƒ¼ã‚¹é€£æº"
        json sentryContext "ğŸ¯ Sentryã‚¨ãƒ©ãƒ¼è©³ç´°çµ±åˆ"
        string severity "info|warn|error|critical"
        decimal duration "ğŸ¯ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬"
        json breadcrumbs "ğŸ¯ Sentryè‡ªå‹•ãƒ‘ãƒ³ããš"
        string errorCode "ğŸ¯ è‡ªå‹•ã‚¨ãƒ©ãƒ¼åˆ†é¡"
        json stackTrace "ğŸ¯ Sentryã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ—è§£æ"
        timestamp createdAt "Sentryè‡ªå‹•ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—"
    }
```

### 1.2 é›†ç´„å¢ƒç•Œã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«

```mermaid
graph TB
    subgraph "User Aggregate"
        U[User<br/>Root Entity]
        UP[User Preferences<br/>Value Object]
        US[User Session<br/>Entity]
    end

    subgraph "Salary Aggregate"
        SS[Salary Slip<br/>Root Entity]
        SA[Salary Attachment<br/>Entity]
        AT[Attendance Info<br/>Value Object]
        ER[Earnings<br/>Value Object]
        DD[Deductions<br/>Value Object]
    end

    subgraph "Portfolio Aggregate"
        SP[Stock Portfolio<br/>Root Entity]
        ST[Stock Transaction<br/>Entity]
        PV[Portfolio Valuation<br/>Value Object]
    end

    subgraph "Stock Market Aggregate"
        SM[Stock Master<br/>Root Entity]
        SC[Current Price<br/>Entity]
        SH[Price History<br/>Entity]
    end

    subgraph "Asset Aggregate"
        AS[Asset<br/>Root Entity]
        AM[Asset Metadata<br/>Value Object]
    end

    subgraph "Budget Aggregate"
        BG[Budget<br/>Root Entity]
        BC[Budget Category<br/>Entity]
        BT[Budget Tracking<br/>Entity]
    end

    U --> SS
    U --> SP
    U --> AS
    U --> BG
    SP --> SM
    ST --> SM
```

---

## 2. ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£è©³ç´°è¨­è¨ˆ

### 2.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ãƒ‰ãƒ¡ã‚¤ãƒ³

#### USERï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰

- **å½¹å‰²**: ã‚·ã‚¹ãƒ†ãƒ ã®ä¸­å¿ƒã¨ãªã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **ä¸€æ„åˆ¶ç´„**: email, googleId
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: email, googleId, isActive

#### USER_SESSIONï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰

- **å½¹å‰²**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ­ã‚°ã‚¤ãƒ³ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: userId â†’ USER.id
- **ä¸€æ„åˆ¶ç´„**: sessionToken
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: userId, sessionToken, expiresAt

#### AUDIT_LOGï¼ˆç›£æŸ»ãƒ­ã‚°ï¼‰

- **å½¹å‰²**: ãƒ‡ãƒ¼ã‚¿å¤‰æ›´ã®è¿½è·¡ã¨ç›£æŸ»
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: userId â†’ USER.id
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: userId, entityType, entityId, createdAt

### 2.2 çµ¦æ–™ç®¡ç†ãƒ‰ãƒ¡ã‚¤ãƒ³

#### SALARY_SLIPï¼ˆçµ¦æ–™æ˜ç´°ï¼‰

- **å½¹å‰²**: æœˆæ¬¡çµ¦æ–™æ˜ç´°ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: userId â†’ USER.id
- **è¤‡åˆä¸€æ„åˆ¶ç´„**: (userId, paymentDate, companyName)
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: userId, paymentDate, status

#### SALARY_SLIP_ATTACHMENTï¼ˆçµ¦æ–™æ˜ç´°æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

- **å½¹å‰²**: PDFãªã©ã®å…ƒãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: salarySlipId â†’ SALARY_SLIP.id
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: salarySlipId

### 2.3 æ ªå¼ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªãƒ‰ãƒ¡ã‚¤ãƒ³

#### STOCK_PORTFOLIOï¼ˆæ ªå¼ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªï¼‰

- **å½¹å‰²**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ ªå¼ä¿æœ‰çŠ¶æ³
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**:
  - userId â†’ USER.id
  - stockId â†’ STOCK_MASTER.id
- **è¤‡åˆä¸€æ„åˆ¶ç´„**: (userId, stockId)
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: userId, stockId

#### STOCK_TRANSACTIONï¼ˆæ ªå¼å–å¼•ï¼‰

- **å½¹å‰²**: å£²è²·å±¥æ­´ã®è¨˜éŒ²
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**:
  - portfolioId â†’ STOCK_PORTFOLIO.id
  - stockId â†’ STOCK_MASTER.id
  - userId â†’ USER.id
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: portfolioId, transactionDate, transactionType

#### STOCK_MASTERï¼ˆæ ªå¼ãƒã‚¹ã‚¿ï¼‰

- **å½¹å‰²**: éŠ˜æŸ„ã®åŸºæœ¬æƒ…å ±
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **ä¸€æ„åˆ¶ç´„**: symbol
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: symbol, exchange, isActive

#### STOCK_CURRENT_PRICEï¼ˆç¾åœ¨æ ªä¾¡ï¼‰

- **å½¹å‰²**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ ªä¾¡æƒ…å ±
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: stockId â†’ STOCK_MASTER.id
- **ä¸€æ„åˆ¶ç´„**: stockId
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: stockId, lastUpdated

#### STOCK_PRICE_HISTORYï¼ˆæ ªä¾¡å±¥æ­´ï¼‰

- **å½¹å‰²**: æ—¥æ¬¡æ ªä¾¡å±¥æ­´
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: stockId â†’ STOCK_MASTER.id
- **è¤‡åˆä¸€æ„åˆ¶ç´„**: (stockId, date)
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: stockId, date

### 2.4 è³‡ç”£ç®¡ç†ãƒ‰ãƒ¡ã‚¤ãƒ³

#### ASSETï¼ˆãã®ä»–è³‡ç”£ï¼‰

- **å½¹å‰²**: æ ªå¼ä»¥å¤–ã®è³‡ç”£ç®¡ç†
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: userId â†’ USER.id
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: userId, assetType, asOfDate

### 2.5 äºˆç®—ç®¡ç†ãƒ‰ãƒ¡ã‚¤ãƒ³

#### BUDGETï¼ˆäºˆç®—ï¼‰

- **å½¹å‰²**: äºˆç®—è¨ˆç”»ã®ç®¡ç†
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: userId â†’ USER.id
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: userId, period, status, startDate

#### BUDGET_CATEGORYï¼ˆäºˆç®—ã‚«ãƒ†ã‚´ãƒªï¼‰

- **å½¹å‰²**: äºˆç®—ã®å†…è¨³ã‚«ãƒ†ã‚´ãƒª
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: budgetId â†’ BUDGET.id
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: budgetId, categoryType

#### BUDGET_TRACKINGï¼ˆäºˆç®—è¿½è·¡ï¼‰

- **å½¹å‰²**: å®Ÿç¸¾ã®è¨˜éŒ²
- **ä¸»ã‚­ãƒ¼**: id (CUID)
- **å¤–éƒ¨ã‚­ãƒ¼**: categoryId â†’ BUDGET_CATEGORY.id
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: categoryId, transactionDate

---

## 3. ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—è¨­è¨ˆ

### 3.1 ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ä¸€è¦§

| è¦ªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£  | é–¢ä¿‚ | å­ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£         | èª¬æ˜                             |
| --------------- | ---- | ---------------------- | -------------------------------- |
| USER            | 1:N  | SALARY_SLIP            | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è¤‡æ•°ã®çµ¦æ–™æ˜ç´°ã‚’æŒã¤   |
| USER            | 1:N  | STOCK_PORTFOLIO        | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è¤‡æ•°ã®éŠ˜æŸ„ã‚’ä¿æœ‰ã§ãã‚‹ |
| USER            | 1:N  | ASSET                  | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è¤‡æ•°ã®è³‡ç”£ã‚’æŒã¤       |
| USER            | 1:N  | BUDGET                 | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è¤‡æ•°ã®äºˆç®—ã‚’è¨­å®šã§ãã‚‹ |
| USER            | 1:1  | DASHBOARD_PREFERENCE   | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«1ã¤ã®è¨­å®š          |
| USER            | 1:N  | USER_SESSION           | è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®ãƒ­ã‚°ã‚¤ãƒ³å¯¾å¿œ   |
| USER            | 1:N  | AUDIT_LOG              | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œå±¥æ­´               |
| SALARY_SLIP     | 1:N  | SALARY_SLIP_ATTACHMENT | æ˜ç´°ã«è¤‡æ•°ã®æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«         |
| STOCK_PORTFOLIO | N:1  | STOCK_MASTER           | ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¯éŠ˜æŸ„ã‚’å‚ç…§       |
| STOCK_PORTFOLIO | 1:N  | STOCK_TRANSACTION      | ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®å–å¼•å±¥æ­´         |
| STOCK_MASTER    | 1:1  | STOCK_CURRENT_PRICE    | éŠ˜æŸ„ã®ç¾åœ¨ä¾¡æ ¼                   |
| STOCK_MASTER    | 1:N  | STOCK_PRICE_HISTORY    | éŠ˜æŸ„ã®ä¾¡æ ¼å±¥æ­´                   |
| BUDGET          | 1:N  | BUDGET_CATEGORY        | äºˆç®—ã®å†…è¨³ã‚«ãƒ†ã‚´ãƒª               |
| BUDGET_CATEGORY | 1:N  | BUDGET_TRACKING        | ã‚«ãƒ†ã‚´ãƒªã”ã¨ã®å®Ÿç¸¾è¿½è·¡           |

### 3.2 ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ãƒ«ãƒ¼ãƒ«

| è¦ªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£  | å­ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£         | ON DELETE | ON UPDATE |
| --------------- | ---------------------- | --------- | --------- |
| USER            | SALARY_SLIP            | CASCADE   | CASCADE   |
| USER            | STOCK_PORTFOLIO        | CASCADE   | CASCADE   |
| USER            | ASSET                  | CASCADE   | CASCADE   |
| USER            | BUDGET                 | CASCADE   | CASCADE   |
| USER            | DASHBOARD_PREFERENCE   | CASCADE   | CASCADE   |
| USER            | USER_SESSION           | CASCADE   | CASCADE   |
| USER            | AUDIT_LOG              | SET NULL  | CASCADE   |
| SALARY_SLIP     | SALARY_SLIP_ATTACHMENT | CASCADE   | CASCADE   |
| STOCK_PORTFOLIO | STOCK_TRANSACTION      | CASCADE   | CASCADE   |
| STOCK_MASTER    | STOCK_PORTFOLIO        | RESTRICT  | CASCADE   |
| STOCK_MASTER    | STOCK_CURRENT_PRICE    | CASCADE   | CASCADE   |
| STOCK_MASTER    | STOCK_PRICE_HISTORY    | CASCADE   | CASCADE   |
| BUDGET          | BUDGET_CATEGORY        | CASCADE   | CASCADE   |
| BUDGET_CATEGORY | BUDGET_TRACKING        | CASCADE   | CASCADE   |

---

## 4. ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§åˆ¶ç´„ï¼ˆğŸ¯ Prisma ORM + Auth.jsçµ±åˆç‰ˆï¼‰

### 4.1 ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«åˆ¶ç´„ï¼ˆPrismaã‚¹ã‚­ãƒ¼ãƒå¯¾å¿œï¼‰

```prisma
// ğŸ¯ Prisma ORMçµ±åˆã«ã‚ˆã‚Šã€SQLã‹ã‚‰ã‚¹ã‚­ãƒ¼ãƒé§†å‹•å‹ã¸åŠ¹ç‡åŒ–
// å¾“æ¥ã®SQLåˆ¶ç´„ç®¡ç† â†’ Prismaã®å®£è¨€çš„åˆ¶ç´„å®šç¾©ï¼ˆ300è¡Œ â†’ 50è¡Œã®å‰Šæ¸›ï¼‰

// Auth.jsçµ±åˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¢ãƒ‡ãƒ«
model User {
  id            String    @id @default(cuid())
  email         String    @unique  // Auth.jsæ¨™æº–ä¸€æ„åˆ¶ç´„
  emailVerified DateTime?
  name          String?
  image         String?

  // Auth.jsæ¨™æº–ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  accounts      Account[]
  sessions      Session[]
  authenticators Authenticator[]

  // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿
  salarySlips   SalarySlip[]
  stockPortfolios StockPortfolio[]
  assets        Asset[]
  budgets       Budget[]
  dashboardPreference DashboardPreference?
  userSessions  UserSession[]
  auditLogs     AuditLog[]

  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

// ğŸ¯ çµ¦æ–™æ˜ç´°ã®è¤‡åˆä¸€æ„åˆ¶ç´„ï¼ˆé‡è¤‡é˜²æ­¢ï¼‰
model SalarySlip {
  // ... other fields

  // Prismaè¤‡åˆåˆ¶ç´„ï¼ˆå¾“æ¥ã®ALTER TABLEä¸è¦ï¼‰
  @@unique([userId, paymentDate, companyName], name: "unique_salary_slip")
  @@index([userId, paymentDate(sort: Desc)], name: "idx_salary_payment_date")
  @@index([status], name: "idx_salary_status")
}

// ğŸ¯ æ ªå¼ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®è¤‡åˆä¸€æ„åˆ¶ç´„
model StockPortfolio {
  // ... other fields

  @@unique([userId, stockId], name: "unique_portfolio")
  @@index([userId], name: "idx_portfolio_user")
  @@index([currentValue(sort: Desc)], name: "idx_portfolio_value")
}

// ğŸ¯ æ ªä¾¡å±¥æ­´ã®è¤‡åˆä¸€æ„åˆ¶ç´„
model StockPriceHistory {
  // ... other fields

  @@unique([stockId, date], name: "unique_price_history")
  @@index([stockId, date(sort: Desc)], name: "idx_price_history_stock_date")
}

// ğŸ¯ äºˆç®—æœŸé–“é‡è¤‡ãƒã‚§ãƒƒã‚¯ï¼ˆZodãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµ±åˆï¼‰
model Budget {
  // ... other fields

  // Prismaåˆ¶ç´„
  @@index([userId, status], name: "idx_budget_user_active", where: { status: "active" })

  // ğŸ¯ Zodã‚¹ã‚­ãƒ¼ãƒã§ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯æ¤œè¨¼ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰
  // src/shared/validation/budget.schema.ts
  /*
  export const budgetSchema = z.object({
    startDate: z.date(),
    endDate: z.date(),
    userId: z.string(),
  }).refine(
    (data) => data.startDate < data.endDate,
    { message: "é–‹å§‹æ—¥ã¯çµ‚äº†æ—¥ã‚ˆã‚Šå‰ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™" }
  ).superRefine(async (data, ctx) => {
    // æœŸé–“é‡è¤‡ãƒã‚§ãƒƒã‚¯ï¼ˆPrismaæ´»ç”¨ï¼‰
    const overlap = await prisma.budget.findFirst({
      where: {
        userId: data.userId,
        status: 'active',
        OR: [
          {
            AND: [
              { startDate: { lte: data.endDate } },
              { endDate: { gte: data.startDate } }
            ]
          }
        ]
      }
    });
    if (overlap) {
      ctx.addIssue({
        code: z.ZodIssueCode.custom,
        message: "äºˆç®—æœŸé–“ãŒé‡è¤‡ã—ã¦ã„ã¾ã™"
      });
    }
  });
  */
}
```

### 4.2 ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼åˆ¶ç´„ï¼ˆğŸ¯ Zod + Superformsçµ±åˆç‰ˆï¼‰

```typescript
// ğŸ¯ å¾“æ¥ã®SQL CHECKåˆ¶ç´„ â†’ Zodã‚¹ã‚­ãƒ¼ãƒã«ã‚ˆã‚‹æ¤œè¨¼çµ±åˆ
// SQLãƒ¬ãƒ™ãƒ«ã®åˆ¶ç´„ç®¡ç† â†’ TypeScriptå‹å®‰å…¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ200è¡Œ â†’ 30è¡Œã®å‰Šæ¸›ï¼‰

// shared/schemas/salary-slip.schema.ts
import { z } from 'zod';

export const salarySlipSchema = z.object({
  companyName: z.string().min(1, 'ä¼šç¤¾åã¯å¿…é ˆã§ã™'),
  employeeName: z.string().min(1, 'å¾“æ¥­å“¡åã¯å¿…é ˆã§ã™'),
  employeeId: z.string().min(1, 'å¾“æ¥­å“¡IDã¯å¿…é ˆã§ã™'),

  // ğŸ¯ é‡‘é¡ã®éè² åˆ¶ç´„ï¼ˆZodã«ã‚ˆã‚‹è‡ªå‹•æ¤œè¨¼ï¼‰
  baseSalary: z.number()
    .min(0, 'åŸºæœ¬çµ¦ã¯0ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™')
    .max(10000000, 'åŸºæœ¬çµ¦ã¯1000ä¸‡å††ä»¥ä¸‹ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),
  totalEarnings: z.number()
    .min(0, 'ç·åå…¥ã¯0ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),
  totalDeductions: z.number()
    .min(0, 'ç·æ§é™¤é¡ã¯0ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),
  netPay: z.number()
    .min(0, 'æ‰‹å–ã‚Šé¡ã¯0ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),

  // ğŸ¯ æ—¥ä»˜ã®è«–ç†åˆ¶ç´„ï¼ˆdate-fnsçµ±åˆï¼‰
  targetPeriodStart: z.date(),
  targetPeriodEnd: z.date(),
  paymentDate: z.date(),
}).refine(
  (data) => data.targetPeriodStart <= data.targetPeriodEnd,
  {
    message: "å¯¾è±¡æœŸé–“é–‹å§‹æ—¥ã¯çµ‚äº†æ—¥ã‚ˆã‚Šå‰ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™",
    path: ["targetPeriodEnd"]
  }
).refine(
  (data) => data.totalEarnings >= data.totalDeductions,
  {
    message: "ç·åå…¥ã¯ç·æ§é™¤é¡ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™",
    path: ["totalDeductions"]
  }
);

// shared/schemas/stock-portfolio.schema.ts
export const stockPortfolioSchema = z.object({
  symbol: z.string()
    .length(4, 'éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¯4æ–‡å­—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™')
    .regex(/^\d{4}$/, 'éŠ˜æŸ„ã‚³ãƒ¼ãƒ‰ã¯4æ¡ã®æ•°å­—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),
  name: z.string().min(1, 'éŠ˜æŸ„åã¯å¿…é ˆã§ã™'),

  // ğŸ¯ æ ªå¼æ•°é‡ã®æ­£æ•°åˆ¶ç´„ï¼ˆZodè‡ªå‹•æ¤œè¨¼ï¼‰
  quantity: z.number()
    .int('æ ªæ•°ã¯æ•´æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™')
    .positive('æ ªæ•°ã¯1ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™')
    .max(1000000, 'æ ªæ•°ã¯100ä¸‡æ ªä»¥ä¸‹ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),

  purchasePrice: z.number()
    .positive('å–å¾—å˜ä¾¡ã¯0ã‚ˆã‚Šå¤§ãã„å¿…è¦ãŒã‚ã‚Šã¾ã™')
    .max(100000000, 'å–å¾—å˜ä¾¡ã¯1å„„å††ä»¥ä¸‹ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™'),

  currentPrice: z.number()
    .nullable()
    .refine((val) => val === null || val > 0, {
      message: "ç¾åœ¨ä¾¡æ ¼ã¯æ­£ã®å€¤ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™"
    }),

  // ğŸ¯ ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ç¯„å›²åˆ¶ç´„ï¼ˆè¨ˆç®—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
  unrealizedGainLossRate: z.number()
    .min(-100, 'æç›Šç‡ã¯-100%ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™')
    .max(1000, 'æç›Šç‡ã¯1000%ä»¥ä¸‹ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™')
    .optional(),
});

// ğŸ¯ Prismaã‚¹ã‚­ãƒ¼ãƒã§ã®è£œå®Œåˆ¶ç´„
model SalarySlip {
  // ... other fields

  // Prismaãƒ¬ãƒ™ãƒ«ã§ã®åŸºæœ¬åˆ¶ç´„
  baseSalary        Decimal  @db.Decimal(10, 2)
  totalEarnings     Decimal  @db.Decimal(10, 2)
  totalDeductions   Decimal  @db.Decimal(10, 2)
  netPay            Decimal  @db.Decimal(10, 2)

  // ğŸ¯ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åˆ¶ç´„ã«ã‚ˆã‚‹æ¤œç´¢æœ€é©åŒ–
  @@index([baseSalary(sort: Desc)], name: "idx_salary_amount")
  @@index([paymentDate, netPay], name: "idx_payment_performance")
}

model StockPortfolio {
  // ... other fields

  // ğŸ¯ Prismaæ•°å€¤åˆ¶ç´„
  quantity          Int      @db.Integer
  purchasePrice     Decimal  @db.Decimal(12, 2)
  currentPrice      Decimal? @db.Decimal(12, 2)

  // ğŸ¯ è¨ˆç®—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è‡ªå‹•æ›´æ–°ãƒˆãƒªã‚¬ãƒ¼ï¼ˆPrismaæ‹¡å¼µã§å®Ÿè£…ï¼‰
  unrealizedGainLoss     Decimal? @db.Decimal(15, 2)
  unrealizedGainLossRate Decimal? @db.Decimal(8, 4)

  @@index([quantity(sort: Desc)], name: "idx_portfolio_quantity")
  @@index([currentPrice], name: "idx_portfolio_price", where: { currentPrice: { not: null } })
}

// ğŸ¯ Superformsã§ã®ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµ±åˆï¼ˆè‡ªå‹•é©ç”¨ï¼‰
// routes/salary-slips/upload/+page.server.ts
export const actions = {
  default: async ({ request }) => {
    const form = await superValidate(request, salarySlipSchema);

    if (!form.valid) {
      // SuperformsãŒè‡ªå‹•çš„ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
      return fail(400, { form });
    }

    // ğŸ¯ Zodãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é€šéå¾Œã€Prismaã§å®‰å…¨ä¿å­˜
    await prisma.salarySlip.create({
      data: {
        ...form.data,
        userId: locals.user.id, // Auth.jsè‡ªå‹•å–å¾—
      }
    });

    return { form };
  }
};
```

---

## 5. ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æˆ¦ç•¥

### 5.1 ä¸»è¦ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

```sql
-- ãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢é€£
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_google_id ON users(google_id) WHERE google_id IS NOT NULL;
CREATE INDEX idx_users_active ON users(is_active) WHERE is_active = true;

-- çµ¦æ–™æ˜ç´°é–¢é€£
CREATE INDEX idx_salary_slips_user_date ON salary_slips(user_id, payment_date DESC);
CREATE INDEX idx_salary_slips_status ON salary_slips(status) WHERE status != 'archived';

-- æ ªå¼ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªé–¢é€£
CREATE INDEX idx_portfolios_user ON stock_portfolios(user_id);
CREATE INDEX idx_portfolios_value ON stock_portfolios(current_value DESC);
CREATE INDEX idx_transactions_date ON stock_transactions(transaction_date DESC);

-- æ ªä¾¡é–¢é€£
CREATE INDEX idx_price_history_stock_date ON stock_price_histories(stock_id, date DESC);
CREATE INDEX idx_current_prices_updated ON stock_current_prices(last_updated DESC);

-- äºˆç®—é–¢é€£
CREATE INDEX idx_budgets_user_active ON budgets(user_id, status) WHERE status = 'active';
CREATE INDEX idx_budget_tracking_date ON budget_trackings(transaction_date DESC);
```

### 5.2 è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

```sql
-- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”¨ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_dashboard_salary ON salary_slips(user_id, payment_date DESC)
INCLUDE (net_pay, total_earnings);

CREATE INDEX idx_dashboard_portfolio ON stock_portfolios(user_id)
INCLUDE (current_value, unrealized_gain_loss);

-- ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨
CREATE INDEX idx_report_transactions ON stock_transactions(user_id, transaction_date DESC, transaction_type);
```

---

## 6. ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°æˆ¦ç•¥

### 6.1 æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°

```sql
-- çµ¦æ–™æ˜ç´°ã®å¹´æ¬¡ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°
CREATE TABLE salary_slips (
  -- columns...
) PARTITION BY RANGE (payment_date);

CREATE TABLE salary_slips_2024 PARTITION OF salary_slips
FOR VALUES FROM ('2024-01-01') TO ('2025-01-01');

CREATE TABLE salary_slips_2025 PARTITION OF salary_slips
FOR VALUES FROM ('2025-01-01') TO ('2026-01-01');

-- æ ªä¾¡å±¥æ­´ã®æœˆæ¬¡ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°
CREATE TABLE stock_price_histories (
  -- columns...
) PARTITION BY RANGE (date);

CREATE TABLE stock_price_histories_2025_01 PARTITION OF stock_price_histories
FOR VALUES FROM ('2025-01-01') TO ('2025-02-01');
```

---

## 7. ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–åˆ†æ

### 7.1 æ­£è¦åŒ–ãƒ¬ãƒ™ãƒ«

| ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£    | æ­£è¦åŒ–ãƒ¬ãƒ™ãƒ« | èª¬æ˜                               |
| --------------- | ------------ | ---------------------------------- |
| USER            | 3NF          | å®Œå…¨ã«æ­£è¦åŒ–                       |
| SALARY_SLIP     | 2NF + JSON   | åŸºæœ¬å±æ€§ã¯æ­£è¦åŒ–ã€è©³ç´°ã¯JSON       |
| STOCK_PORTFOLIO | 3NF          | å®Œå…¨ã«æ­£è¦åŒ–                       |
| STOCK_MASTER    | 3NF          | å®Œå…¨ã«æ­£è¦åŒ–                       |
| ASSET           | 2NF + JSON   | åŸºæœ¬å±æ€§ã¯æ­£è¦åŒ–ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¯JSON |

### 7.2 æ„å›³çš„ãªéæ­£è¦åŒ–

```sql
-- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®ãŸã‚ã®éæ­£è¦åŒ–
ALTER TABLE stock_portfolios ADD COLUMN cached_total_value DECIMAL(15,2);
ALTER TABLE stock_portfolios ADD COLUMN cached_total_gain_loss DECIMAL(15,2);

-- ãƒˆãƒªã‚¬ãƒ¼ã«ã‚ˆã‚‹è‡ªå‹•æ›´æ–°
CREATE TRIGGER update_portfolio_cache
AFTER INSERT OR UPDATE ON stock_transactions
FOR EACH ROW EXECUTE FUNCTION recalculate_portfolio_cache();
```

---

## 8. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …ï¼ˆåŠ¹ç‡åŒ–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªçµ±åˆç‰ˆï¼‰

### 8.1 Auth.jsçµ±åˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ ğŸ¯

**åŠ¹ç‡åŒ–åŠ¹æœ**:

- **å¾“æ¥ã®èªè¨¼å®Ÿè£…**: æ‰‹å‹•CSRFå¯¾ç­–ã€JWTç®¡ç†ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã§3é€±é–“
- **Auth.jså®Ÿè£…**: è‡ªå‹•ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã§1æ—¥å®Œäº†
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«**: æ¥­ç•Œæ¨™æº–ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹è‡ªå‹•é©ç”¨

```typescript
// Auth.jsè‡ªå‹•ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ï¼ˆè¨­å®šä¸è¦ï¼‰
const securityFeatures = {
	csrf: 'CSRFæ”»æ’ƒå¯¾ç­–ã®è‡ªå‹•å®Ÿè£…',
	pkce: 'PKCE (Proof Key for Code Exchange) è‡ªå‹•å‡¦ç†',
	sessionManagement: 'JWT/Database ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®è‡ªå‹•ç®¡ç†',
	tokenRotation: 'ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã®è‡ªå‹•ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³',
	securityHeaders: 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ã®è‡ªå‹•è¨­å®š',
	rateLimiting: 'å†…è”µãƒ¬ãƒ¼ãƒˆåˆ¶é™æ©Ÿèƒ½'
};
```

### 8.2 Sentryçµ±åˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦– ğŸ¯

**åŠ¹ç‡åŒ–åŠ¹æœ**:

- **å¾“æ¥ã®ç›£è¦–å®Ÿè£…**: ãƒ­ã‚°è§£æã€ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®šã§2é€±é–“
- **Sentryå®Ÿè£…**: åˆæœŸè¨­å®š5åˆ†ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–é–‹å§‹
- **æ¤œçŸ¥é€Ÿåº¦**: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã‹ã‚‰1ç§’ä»¥å†…ã§ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥

```typescript
// Sentryè‡ªå‹•ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–
interface SecurityMonitoring {
	realTimeAlerts: 'ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œã®å³åº§æ¤œçŸ¥';
	performanceTracking: 'ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ç•°å¸¸ã®è‡ªå‹•æ¤œå‡º';
	errorTracking: 'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ãƒˆãƒ¬ãƒ¼ã‚¹';
	userTracking: 'ç•°å¸¸ãªãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¤œçŸ¥';
	releaseTracking: 'ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œè¿½è·¡';
	breadcrumbs: 'æ”»æ’ƒçµŒè·¯ã®è‡ªå‹•è¨˜éŒ²';
}
```

### 8.3 Prisma ORM ã«ã‚ˆã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ– ğŸ¯

**åŠ¹ç‡åŒ–åŠ¹æœ**:

- **SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–**: å‹å®‰å…¨ã‚¯ã‚¨ãƒªã§è‡ªå‹•é˜²æ­¢
- **Row Level Security**: Prismaã‚¯ã‚¨ãƒªã§è‡ªå‹•é©ç”¨

```sql
-- Prisma + Auth.jsçµ±åˆã«ã‚ˆã‚‹RLSè‡ªå‹•å®Ÿè£…
ALTER TABLE salary_slips ENABLE ROW LEVEL SECURITY;

CREATE POLICY salary_slips_auth_policy ON salary_slips
FOR ALL USING (
  user_id = (SELECT id FROM users WHERE email = current_setting('app.current_user_email'))
);

-- Auth.jsãƒ¦ãƒ¼ã‚¶ãƒ¼IDè‡ªå‹•æ¤œè¨¼
CREATE POLICY auth_js_integration ON stocks
FOR ALL USING (user_id = current_auth_user_id());
```

### 8.4 è‡ªå‹•æš—å·åŒ–ãƒ»ãƒ‡ãƒ¼ã‚¿ä¿è­·

| ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥     | ä¿è­·æ–¹å¼                  | åŠ¹ç‡åŒ–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª        |
| -------------- | ------------------------- | ----------------------- |
| **èªè¨¼æƒ…å ±**   | Auth.jsè‡ªå‹•æš—å·åŒ–         | JWT/OAuthè‡ªå‹•ç®¡ç†       |
| **å€‹äººæƒ…å ±**   | Prisma Schema Levelæš—å·åŒ– | å‹å®‰å…¨æš—å·åŒ–            |
| **ãƒ•ã‚¡ã‚¤ãƒ«**   | FilePond + Supabaseæš—å·åŒ– | ç½²åä»˜ãURLè‡ªå‹•ç”Ÿæˆ     |
| **ã‚»ãƒƒã‚·ãƒ§ãƒ³** | Auth.jsè‡ªå‹•ã‚»ã‚­ãƒ¥ã‚¢ä¿å­˜   | HttpOnly Cookieè‡ªå‹•è¨­å®š |
| **APIé€šä¿¡**    | SvelteKitå†…è”µHTTPSå¼·åˆ¶    | TLS 1.3è‡ªå‹•é©ç”¨         |

### 8.5 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ãƒ­ã‚°ï¼ˆSentryçµ±åˆï¼‰

```typescript
// è‡ªå‹•ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ï¼ˆSentryãŒå…¨ã¦è¨˜éŒ²ï¼‰
interface SecurityAuditLog {
  authAttempts: "ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œã®è‡ªå‹•è¨˜éŒ²";
  dataAccess: "æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®è¿½è·¡";
  apiCalls: "APIå‘¼ã³å‡ºã—ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç›£è¦–";
  fileUploads: "ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®æ¤œè¨¼ãƒ­ã‚°";
  errorPatterns: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã‚¨ãƒ©ãƒ¼ã®åˆ†æ";
  performanceAnomaly: "ç•°å¸¸ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹ã®æ¤œçŸ¥";
}

---

## 9. æ‹¡å¼µæ€§è€ƒæ…®äº‹é …

### 9.1 å°†æ¥ã®æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ

1. **ãƒãƒ«ãƒé€šè²¨å¯¾å¿œ**
   - currency ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯æ—¢ã«è¨­è¨ˆæ¸ˆã¿
   - ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã®è¿½åŠ ã§å¯¾å¿œå¯èƒ½

2. **è¤‡æ•°ä¼æ¥­ã‹ã‚‰ã®çµ¦æ–™æ˜ç´°**
   - companyName ã§åŒºåˆ¥å¯èƒ½
   - ä¼æ¥­ãƒã‚¹ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¿½åŠ ã§æ‹¡å¼µ

3. **æŠ•è³‡å•†å“ã®å¤šæ§˜åŒ–**
   - assetType ã®æ‹¡å¼µ
   - æŠ•è³‡ä¿¡è¨—ã€å‚µåˆ¸ãªã©ã®å°‚ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«è¿½åŠ 

4. **å®¶æ—ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¯¾å¿œ**
   - user_groups ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¿½åŠ 
   - æ¨©é™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…

### 9.2 ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£å¯¾ç­–

- ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ã«ã‚ˆã‚‹å¤§é‡ãƒ‡ãƒ¼ã‚¿å¯¾å¿œ
- èª­ã¿å–ã‚Šå°‚ç”¨ãƒ¬ãƒ—ãƒªã‚«ã®è¿½åŠ æº–å‚™
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥å±¤ã®æ´»ç”¨
- éåŒæœŸå‡¦ç†ç”¨ã®ã‚¸ãƒ§ãƒ–ã‚­ãƒ¥ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«

---

## 10. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… ERDä½œæˆï¼ˆæœ¬æ›¸ï¼‰
2. â†’ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã®è©³ç´°å®šç¾©
3. â†’ TypeScriptã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®šç¾©
4. â†’ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥ã®ç­–å®š
5. â†’ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–ã®å®Ÿæ–½

---

## æ‰¿èª

| å½¹å‰² | åå‰ | æ—¥ä»˜ | ç½²å |
|------|------|------|------|
| ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ | ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ | 2025-08-10 | âœ… |
| ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ | - | - | [ ] |
| æ‰¿èªè€… | - | - | [ ] |

---

**æ”¹è¨‚å±¥æ­´**

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | ä½œæˆè€… |
|-----------|------|----------|---------|
| 1.0.0 | 2025-08-10 | åˆç‰ˆä½œæˆ | ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ |
```
